Q.2
 A)Write a C program to display statistics related to memory allocation system. (Use mallinfo() system call).

#include "stdio.h"
#include "stdlib.h" 
#include "malloc.h" 
int main() {
 char *c;
 struct mallinfo m;
 m=mallinfo();
 printf("\n Non_mapped space allocated=>%d",m.arena);
 printf("\n number of free chunks=>%d",m.ordblks);
 printf("\n Number of free fastbin bloks=>%d",m.smblks);
 printf("\n Number of mmapped regions=>%d",m.hblks);
 printf("\n space allocated in mmapped regions=>%d",m.hblkhd);
 printf("\n See below=>%d",m.usmblks);
 printf("\n Space in freed fastbin bloacks=>%d",m.fsmblks);
 printf("\n Total allocated space=>%d",m.fordblks);
 printf("\n Total free space=>%d",m.fordblks);
 printf("\n Top-most,relesable space=>%d",m.keepcost);
 return 0;
 }
/*
 OUTPUT: [fy@localhost ~]$ gedit malinfo.c
 [fy@localhost ~]$ gcc malinfo.c
 [fy@localhost ~]$ ./a.out 
Non_mapped space allocated=>0
 number of free chunks=>1
 Number of free fastbin bloks=>0
 Number of mmapped regions=>0
 space allocated in mmapped regions=>0
 See below=>0
 Space in freed fastbin bloacks=>0
 Total allocated space=>0 Total free space=>0
 Top-most,relesable space=>0[fy@localhost ~]$*/


B] Write a C program which creates two files. The first file should have read and write
permission to owner, group of owner and other users whereas second file has read and write
permission to owner(use umask() function). Now turn on group-id and turn off group execute
permission of first file. Set the read permission to all user for second file (use chmod() function).


*/
#include<stdio.h>
#include<stdlib.h>
#include<unistd.h>
#include<fcntl.h>
#include<sys/stat.h>
#include<sys/types.h>
int main()
{
  struct stat s;
  umask(0);
  if(creat("file1",S_IRUSR|S_IWUSR|S_IRGRP|S_IWGRP|S_IROTH|S_IWOTH)<0)
  printf("\nCreation error");
  umask(S_IRGRP|S_IWGRP|S_IROTH|S_IWOTH);
  if(creat("file2",S_IRUSR|S_IWUSR|S_IRGRP|S_IWGRP|S_IROTH|S_IWOTH)<0)
  printf("\nCreation error");
  stat("file1",&s);
  if(chmod("file1",(s.st_mode&~S_IXGRP)|S_ISGID)<0)
  printf("chmod error1");
  if(chmod("file2",S_IRGRP|S_IWGRP|S_IROTH|S_IWOTH)<0)
  printf("chmod error2");
  exit(0);
}

