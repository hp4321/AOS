Q.2
 A) Write a C program to find whether a given file is present in current directory or not. [

#include "stdio.h"
#include "stdlib.h"
#include "unistd.h"
#include "fcntl.h"
#include "sys/types.h"
#include "sys/stat.h"
#include "dirent.h"
int main()
{
char fname[30];
int fd;
printf("Enter file name=");
scanf("%s",fname);
fd=open(fname,O_RDONLY);
if(fd==-1)
{
printf("File is not found");
}
else
{
printf("File is present in the current directory");
return 0;
}
}
/*
Output:
[fy@localhost Rohit AOS]$ gedit sleep1.c
[fy@localhost Rohit AOS]$ gcc sleep1.c
[fy@localhost Rohit AOS]$ ls
a.out bhole d.txt p4.txt practical2.c sleep1.c
a.txt b.txt p4ab.txt prac4.c practical3.c
bb.txt c.txt p4a.txt practical1.c practicl2.txt
[fy@localhost Rohit AOS]$ ./a.out bb
Enter file name=bb.txt
File is present in the current directory[fy@localhost Rohit AOS]$
[fy@localhost Rohit AOS]$ ./a.out b
Enter file name=b.txt
File is present in the current directory[fy@localhost Rohit AOS]$ ./a.out
Enter file name=ajhfsjA.C
File is not found[fy@localhost Rohit AOS]$ ./a.out
Enter file name=PRAC4.C
File is not found[fy@localhost Rohit AOS]$
[fy@localhost Rohit AOS]$
[fy@localhost Rohit AOS]$
[fy@localhost Rohit AOS]$ ./a.out
Enter file name=prac4.c
File is present in the current directory[
*/


B] /*Write a C program which blocks SIGOUIT signal for 5 seconds. After 5 second process checks any
occurrence of quit signal during this period, if so, it unblock the signal. Now another occurrence of quit
signal terminates the program. (Use sigprocmask() and sigpending() )


*/
#include<signal.h>
#include<stdio.h>
#include<stdlib.h>
#include<unistd.h>
#include<sys/stat.h>
#include<sys/types.h>

void sh(int sig)
{
 printf("SIGQUIT occured\n");
 signal(SIGQUIT,SIG_DFL);
}
int main()
{
 sigset_t p,new,old;
 signal(SIGQUIT,sh);
 sigemptyset(&new);
 sigaddset(&new,SIGQUIT);
 sigprocmask(SIG_BLOCK,&new,&old);
 sleep(5);
 sigpending(&p);
 if(sigismember(&p,SIGQUIT))
   printf("SIGQUIT is pending\n");
   sigprocmask(SIG_BLOCK,&old,NULL);
   sleep(5);
   exit(0);
}